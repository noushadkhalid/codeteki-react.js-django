{% extends "crm/emails/base_desifirms.html" %}

{% block title %}Agency Created! Invite Your Team{% endblock %}
{% block preheader %}{{ recipient_name }}, your agency is live! Time to invite your team members.{% endblock %}
{% block subtitle %}Real Estate{% endblock %}

{% block content %}
<tr>
    <td style="padding: 40px 30px;">
        <!-- Hero Icon -->
        <div style="text-align: center; margin-bottom: 25px;">
            <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #22c55e, #4ade80); border-radius: 50%; margin: 0 auto; display: inline-flex; align-items: center; justify-content: center;">
                <span style="font-size: 40px;">ğŸ‘¥</span>
            </div>
        </div>

        <!-- Heading -->
        <h1 style="color: #1f2937; font-size: 26px; font-weight: 700; text-align: center; margin: 0 0 10px 0;">
            Your Agency is Live!
        </h1>
        <p style="color: #22c55e; font-size: 16px; font-weight: 600; text-align: center; margin: 0 0 30px 0;">
            Step 3: Invite Your Team ğŸ‘¥
        </p>

        <!-- Dynamic Body Content OR Default Message -->
        {% if body_html and body_html != '<p style="margin: 0 0 15px 0;"></p>' %}
        <div style="color: #4b5563; font-size: 16px; line-height: 1.7; margin: 0 0 25px 0;">
            {{ body_html|safe }}
        </div>
        {% else %}
        <p style="color: #4b5563; font-size: 16px; line-height: 1.7; margin: 0 0 20px 0;">
            Hi {{ recipient_name }},
        </p>

        <p style="color: #4b5563; font-size: 16px; line-height: 1.7; margin: 0 0 20px 0;">
            Congratulations! Your agency profile is now live on Desi Firms! ğŸ‰
        </p>

        <p style="color: #4b5563; font-size: 16px; line-height: 1.7; margin: 0 0 25px 0;">
            Want to <strong>multiply your reach</strong>? Invite your team members so they can list properties under your agency brand.
        </p>
        {% endif %}

        <!-- Team Invite Box -->
        <div style="background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border-radius: 16px; padding: 24px; margin: 0 0 25px 0; border: 1px solid #86efac;">
            <h3 style="color: #166534; font-size: 15px; font-weight: 700; margin: 0 0 12px 0;">
                ğŸ‘¥ Invite Team Members
            </h3>
            <ul style="color: #15803d; font-size: 14px; line-height: 1.8; margin: 0; padding-left: 20px;">
                <li>Send email invites to your agents</li>
                <li>Set role permissions (agent, admin, lead)</li>
                <li>They'll appear under your agency</li>
                <li>Track team performance from one dashboard</li>
            </ul>
        </div>

        <!-- Dashboard Preview - Team Invitations -->
        <div style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%); border-radius: 16px; padding: 24px; margin: 0 0 25px 0;">
            <h3 style="color: white; font-size: 15px; font-weight: 700; margin: 0 0 16px 0; text-align: center;">
                ğŸ‘¥ Agent Invitations Dashboard
            </h3>
            <!-- Stats Row -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 16px;">
                <tr>
                    <td style="width: 25%; text-align: center; padding: 8px;">
                        <div style="background: #22c55e; color: white; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600;">All (0)</div>
                    </td>
                    <td style="width: 25%; text-align: center; padding: 8px;">
                        <div style="color: #94a3b8; font-size: 11px;">Pending (0)</div>
                    </td>
                    <td style="width: 25%; text-align: center; padding: 8px;">
                        <div style="color: #94a3b8; font-size: 11px;">Accepted (0)</div>
                    </td>
                    <td style="width: 25%; text-align: center; padding: 8px;">
                        <div style="color: #94a3b8; font-size: 11px;">Expired (0)</div>
                    </td>
                </tr>
            </table>
            <!-- Invite Form Preview -->
            <div style="background: rgba(255,255,255,0.05); border-radius: 12px; padding: 16px; border: 1px solid rgba(255,255,255,0.1);">
                <div style="color: white; font-size: 13px; font-weight: 600; margin-bottom: 12px;">Invite New Agent</div>
                <div style="background: rgba(255,255,255,0.1); border-radius: 6px; padding: 10px; margin-bottom: 8px;">
                    <span style="color: #64748b; font-size: 12px;">agent@example.com</span>
                </div>
                <div style="background: linear-gradient(135deg, #22c55e, #4ade80); border-radius: 8px; padding: 10px; text-align: center;">
                    <span style="color: white; font-size: 12px; font-weight: 600;">âœ‰ï¸ Send Invitation</span>
                </div>
            </div>
            <!-- How it works -->
            <div style="margin-top: 16px;">
                <div style="color: #94a3b8; font-size: 11px; margin-bottom: 8px;">How Invitations Work:</div>
                <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                    <tr><td style="padding: 4px 0;"><span style="color: #4ade80; font-size: 11px;">â‘  Send invite â†’ â‘¡ They click link â†’ â‘¢ Auto-added to team</span></td></tr>
                </table>
            </div>
        </div>

        <!-- CTA Button -->
        <div style="text-align: center; margin: 30px 0;">
            <a href="https://desifirms.com.au/realestate/dashboard/"
               style="display: inline-block; background: linear-gradient(135deg, #22c55e 0%, #4ade80 100%); color: #ffffff; text-decoration: none; padding: 18px 48px; border-radius: 12px; font-weight: 700; font-size: 17px; box-shadow: 0 8px 25px rgba(34, 197, 94, 0.35); letter-spacing: 0.5px;">
                Go to My Dashboard â†’
            </a>
        </div>

        <p style="color: #6b7280; font-size: 13px; text-align: center; margin: 15px 0 0 0;">
            Click <strong>My Agency</strong> â†’ <strong>Invite Agents</strong> to add team members
        </p>

        <p style="color: #6b7280; font-size: 13px; text-align: center; margin: 10px 0 0 0;">
            Solo agent? <a href="https://desifirms.com.au/realestate/dashboard/properties/add/" style="color: #22c55e; text-decoration: none; font-weight: 600;">Skip to listing your first property!</a>
        </p>

        <p style="color: #6b7280; font-size: 14px; text-align: center; margin: 20px 0 0 0;">
            <strong>Need help?</strong> Reply to this email or call me at <strong>0424 538 777</strong>
        </p>

        <!-- Signature -->
        <div style="margin-top: 35px; padding-top: 25px; border-top: 1px solid #e5e7eb;">
            <p style="color: #4b5563; font-size: 15px; line-height: 1.6; margin: 0;">
                Excited to see your team grow,
            </p>
            <p style="color: #1f2937; font-size: 15px; font-weight: 600; margin: 10px 0 5px 0;">
                Noushad
            </p>
            <p style="color: #6b7280; font-size: 14px; margin: 0 0 5px 0;">
                Desi Firms
            </p>
            <p style="color: #6b7280; font-size: 14px; margin: 0;">
                ğŸ“± 0424 538 777 &nbsp;|&nbsp; ğŸŒ <a href="https://desifirms.com.au" style="color: #22c55e; text-decoration: none;">desifirms.com.au</a>
            </p>
        </div>
    </td>
</tr>
{% endblock %}
