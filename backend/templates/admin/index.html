{% extends "admin/base_site.html" %}
{% load i18n %}

{% block breadcrumbs %}{% endblock %}

{% block content %}
<div style="padding: 20px;">
    <!-- Welcome Section -->
    <div style="background: white; border-radius: 12px; padding: 24px; margin-bottom: 24px; border: 1px solid #e5e7eb;">
        <h1 style="font-size: 24px; font-weight: 700; margin-bottom: 8px; color: #111827;">
            Welcome to Codeteki Admin
        </h1>
        <p style="color: #6b7280;">
            Manage your website content, SEO audits, leads, and more from the sidebar navigation.
        </p>
    </div>

    <!-- Quick Stats Cards -->
    {% if cards %}
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px;">
        {% for card in cards %}
        <div style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #e5e7eb;">
            <p style="font-size: 14px; color: #6b7280; margin-bottom: 4px;">{{ card.title }}</p>
            <p style="font-size: 32px; font-weight: 700; color: #111827;">{{ card.value }}</p>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Content Overview -->
    {% if content_stats %}
    <div style="background: white; border-radius: 12px; padding: 24px; margin-bottom: 24px; border: 1px solid #e5e7eb;">
        <h2 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: #111827;">Content Overview</h2>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; text-align: center;">
            <div style="padding: 16px; background: #f9fafb; border-radius: 8px;">
                <p style="font-size: 24px; font-weight: 700; color: #f9cb07;">{{ content_stats.services }}</p>
                <p style="font-size: 14px; color: #6b7280;">Services</p>
            </div>
            <div style="padding: 16px; background: #f9fafb; border-radius: 8px;">
                <p style="font-size: 24px; font-weight: 700; color: #f9cb07;">{{ content_stats.hero_sections }}</p>
                <p style="font-size: 14px; color: #6b7280;">Active Hero Sections</p>
            </div>
            <div style="padding: 16px; background: #f9fafb; border-radius: 8px;">
                <p style="font-size: 24px; font-weight: 700; color: #f9cb07;">{{ content_stats.testimonials }}</p>
                <p style="font-size: 14px; color: #6b7280;">Testimonials</p>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Quick Actions -->
    <div style="background: white; border-radius: 12px; padding: 24px; margin-bottom: 24px; border: 1px solid #e5e7eb;">
        <h2 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: #111827;">Quick Actions</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px;">
            <a href="{% url 'admin:core_sitesettings_changelist' %}"
               style="display: flex; align-items: center; gap: 8px; padding: 12px; border-radius: 8px; background: #f9fafb; text-decoration: none; color: #374151; font-size: 14px; font-weight: 500;">
                ‚öôÔ∏è Site Settings
            </a>
            <a href="{% url 'admin:core_herosection_changelist' %}"
               style="display: flex; align-items: center; gap: 8px; padding: 12px; border-radius: 8px; background: #f9fafb; text-decoration: none; color: #374151; font-size: 14px; font-weight: 500;">
                üéØ Hero Sections
            </a>
            <a href="{% url 'admin:core_service_changelist' %}"
               style="display: flex; align-items: center; gap: 8px; padding: 12px; border-radius: 8px; background: #f9fafb; text-decoration: none; color: #374151; font-size: 14px; font-weight: 500;">
                üîß Services
            </a>
            <a href="{% url 'admin:core_siteaudit_changelist' %}"
               style="display: flex; align-items: center; gap: 8px; padding: 12px; border-radius: 8px; background: #f9fafb; text-decoration: none; color: #374151; font-size: 14px; font-weight: 500;">
                üìä SEO Audits
            </a>
        </div>
    </div>

    <!-- Recent Activity -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px;">
        <div style="background: white; border-radius: 12px; padding: 24px; border: 1px solid #e5e7eb;">
            <h2 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: #111827;">Recent Leads</h2>
            {% for lead in recent_leads %}
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f9fafb; border-radius: 8px; margin-bottom: 8px;">
                <div>
                    <p style="font-weight: 500; color: #111827;">{{ lead.name }}</p>
                    <p style="font-size: 12px; color: #6b7280;">{{ lead.created_at|timesince }} ago</p>
                </div>
                <span style="padding: 4px 8px; font-size: 12px; font-weight: 500; border-radius: 9999px;
                    {% if lead.status == 'new' %}background: #dcfce7; color: #166534;{% else %}background: #f3f4f6; color: #374151;{% endif %}">
                    {{ lead.status }}
                </span>
            </div>
            {% empty %}
            <p style="color: #6b7280; font-size: 14px;">No recent leads</p>
            {% endfor %}
        </div>

        <div style="background: white; border-radius: 12px; padding: 24px; border: 1px solid #e5e7eb;">
            <h2 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: #111827;">Recent Audits</h2>
            {% for audit in recent_audits %}
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f9fafb; border-radius: 8px; margin-bottom: 8px;">
                <div style="overflow: hidden;">
                    <p style="font-weight: 500; color: #111827; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 200px;">{{ audit.url }}</p>
                    <p style="font-size: 12px; color: #6b7280;">{{ audit.created_at|timesince }} ago</p>
                </div>
                <span style="padding: 4px 8px; font-size: 12px; font-weight: 500; border-radius: 9999px;
                    {% if audit.status == 'completed' %}background: #dcfce7; color: #166534;
                    {% elif audit.status == 'running' %}background: #dbeafe; color: #1e40af;
                    {% else %}background: #f3f4f6; color: #374151;{% endif %}">
                    {{ audit.status }}
                </span>
            </div>
            {% empty %}
            <p style="color: #6b7280; font-size: 14px;">No recent audits</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
